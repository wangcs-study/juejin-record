# HTTP1.0和HTTP1.1之间有哪些区别
- 连接方面，1.0默认使用非持久连接，1.1默认使用持久连接。1.1通过使用持久连接来使多个http请求复用同一个TCP连接，以此来避免使用非持久连接时每次需要建立连接的时延。
- 资源请求方面，1.0中存在一些浪费带宽的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送进来，并且不支持断点续传的功能。1.1则在请求头引入range头域，它允许只请求资源的某个部分，即返回码是206（partial content）。
- 缓存方面，1.0中主要使用header里面的if-modified-since、expires作为缓存判断的标准。1.1则引入了更多的缓存控制策略，例如etag,if-unmodified-since,if-match,if-none-match等
- 1.1中新增了host字段，用来指定服务器的域名。1.0中认为每台服务器都绑定了一个唯一的ip地址，因此请求消息中的URL并没有传递主机名（hostname）。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机。并且它们共享一个ip地址。因此有了host字段，这样就可以将请求发往同一台服务器上的不同网站
- 1.1还新增了一些请求方法，如PUT,HEAD,OPTIONS等
# HTTP1.1和HTTP2.0的区别
- 二进制协议：1.1中报文的都信息必须是文本，数据体可以是文本也可以是二进制。2则是一个彻底的二进制协议，头信息和数据体都是二进制，并且统称为“帧”。帧的概念是它实现多路复用的基础。
- 多路复用：2实现了多路复用，2仍然复用TCP连接，但是在一个连接里，客户端和服务器都可以同时发送多个请求或回应，而且不用按照顺序一一发送，这样就可以避免了“队头阻塞”的问题。
- 数据流：2使用了数据流的概念，因为2的数据包是不按顺序发送的，同一个连接里面连续的数据包，可能属于不同的请求。因此，必须对数据包做标记，指出它属于哪个请求。2将每个请求或回应的所有数据包称为一个数据流。每个数据流都有一个独一无二的编号。数据包发送时，都必须标记数据流ID，用来区分它属于哪个数据流。
- 头信息压缩：1.1协议不带状态，每次请求都必须附上所有信息。导致请求的很多都是重复的，比如cookie和user agent，一模一样的内容，每次请求都必须附带，这会浪费很多带库也影响速度。2对这一点做了优化，引入了头信息压缩机制。一方面，头信息使用gzip或compress压缩后再发送；另一方面，客户端和服务器同时维护一个一张头信息表，所有字段都会存入这个表，生成一个索引号，以后就不发送同样字段了，只发送索引号，这样就能提高速度了。
- 服务器推送：2允许服务器未经请求，主动向客户端发送资源，这叫做服务器推送。2主动推送的是静态资源和websocket等方式向客户端发送即时数据的推送是不同的。
# 什么是队头阻塞
队头阻塞是由http基本的“请求-应答”模型导致的。http规定报文必须是“一发一收”，这就形成了一个先进先出的“串行”队列。队列里面的请求是没有优先级的，只是入队的先后顺序，排在最前面的请求会被优先处理。如果队首的请求因为处理的太慢耽误了时间，那么队列里后面的所有请求也不得不跟着一起等待，